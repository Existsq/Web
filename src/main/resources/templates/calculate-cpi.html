<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" th:href="@{/assets/css/calculate-cpi.css}">
  <link rel="stylesheet" th:href="@{/assets/css/header.css}">
  <link rel="stylesheet" th:href="@{/assets/css/main.css}">
  <link rel="stylesheet" th:href="@{/assets/css/horizontal-card.css}">
  <title>РИП | Рассчет ИПЦ</title>
</head>
<body>

<header th:insert="~{fragments/header :: header}"></header>

<div class="cpi-container">
  <form class="date-form">
    <label for="startDate" class="date-label">Выберите дату для сравнения:</label>
    <input type="date" id="startDate" name="startDate" class="date-input-start">
    <input type="submit" value="Установить" class="date-submit-start">
  </form>
  <p class="cpi-text">
    Ваш персональный ИПЦ - <span th:text="${cpi}"></span>%
  </p>

</div>
<div class="calculateCpi-grid">

  <div class="ordered-container" th:each="category, iterStat : ${categories}">
    <div class="number-container">
      <p class="number-text" th:text="${iterStat.index + 1}">1</p>
    </div>

    <div class="horizontal-card-container">
      <div class="horizontal-card-image-container"
           th:style="|background-image: url(${baseUrl}${category.imageId}.jpg)|">
      </div>
      <div class="horizontal-card-content-container">

        <div class="horizontal-card-title-container">
          <p class="horizontal-card-title-text" th:text="${category.title}">Категория</p>
        </div>

        <div class="horizontal-card-description-container">
          <p class="horizontal-card-description-text" th:text="${category.shortDescription}">
            Описание</p>
        </div>

        <div class="horizontal-card-index-container">
          <p class="horizontal-card-index-text"
             th:text="${category.coefficient % 1 == 0} ?
             ${#numbers.formatDecimal(category.coefficient, 0, 0)} + '%' :
             ${#numbers.formatDecimal(category.coefficient, 1, 1)} + '%'">
          </p>
        </div>

        <input class="horizontal-card-input-container"
               th:placeholder="${category.basePrice} + ' руб.'">
      </div>
    </div>

<!--    <button class="delete-icon-container">-->
<!--      <svg class="delete-icon" xmlns="http://www.w3.org/2000/svg" width="15" height="19"-->
<!--           viewBox="0 0 15 19" fill="none">-->
<!--        <path-->
<!--            d="M11.7857 6.33333V16.8889H3.21429V6.33333H11.7857ZM10.1786 0H4.82143L3.75 1.05556H0V3.16667H15V1.05556H11.25L10.1786 0ZM13.9286 4.22222H1.07143V16.8889C1.07143 18.05 2.03571 19 3.21429 19H11.7857C12.9643 19 13.9286 18.05 13.9286 16.8889V4.22222Z"-->
<!--            fill="#586179"/>-->
<!--      </svg>-->
<!--    </button>-->
  </div>

  <div class="cart-buttons-wrapper">
<!--    <button class="calculateCpi-button-container">-->
<!--      Оформить заявку-->
<!--    </button>-->
    <form th:action="@{/calculate-cpi/delete}" method="post">
      <button type="submit" class="delete-button-container">
        Удалить заявку
      </button>
    </form>
  </div>
</div>

</body>
</html>