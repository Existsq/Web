<!doctype html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>РИП | Список Услуг</title>
  <link rel="stylesheet" th:href="@{/assets/css/main.css}">
  <link rel="stylesheet" th:href="@{/assets/css/card.css}">
  <link rel="stylesheet" th:href="@{/assets/css/header.css}">
</head>
<body>
<div class="main-page-container">
  <header th:insert="~{fragments/header :: header(query=${query})}"></header>
  <div class="search-section">
    <form th:action="@{/services}" method="get" class="search-form-container">
      <div class="search-container">
        <div class="search-icon-container">
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
               viewBox="0 0 16 16" fill="none">
            <path
                d="M6.84236 13.684C8.36051 13.6838 9.83493 13.1756 11.0307 12.2403L14.7906 16L16 14.7907L12.2401 11.031C13.1759 9.83514 13.6845 8.36046 13.6847 6.84199C13.6847 3.06949 10.6151 0 6.84236 0C3.06965 0 0 3.06949 0 6.84199C0 10.6145 3.06965 13.684 6.84236 13.684ZM6.84236 1.7105C9.67253 1.7105 11.9741 4.01197 11.9741 6.84199C11.9741 9.67201 9.67253 11.9735 6.84236 11.9735C4.01219 11.9735 1.71059 9.67201 1.71059 6.84199C1.71059 4.01197 4.01219 1.7105 6.84236 1.7105Z"
                fill="#586179"/>
          </svg>
        </div>

        <input type="text" name="query" class="search-input"
               placeholder="Введите название услуги"
               th:value="${query}">
      </div>

      <button type="submit" class="search-submit-button">Найти</button>
    </form>

    <a th:href="@{/cart/1(query=${query})}" class="cart-icon-wrapper">
      <svg class="cart-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
           viewBox="0 0 16 16" fill="none">
        <path
            d="M12.8 12.8C13.2243 12.8 13.6313 12.9686 13.9314 13.2686C14.2314 13.5687 14.4 13.9757 14.4 14.4C14.4 14.8243 14.2314 15.2313 13.9314 15.5314C13.6313 15.8314 13.2243 16 12.8 16C12.3757 16 11.9687 15.8314 11.6686 15.5314C11.3686 15.2313 11.2 14.8243 11.2 14.4C11.2 13.512 11.912 12.8 12.8 12.8ZM0 0H2.616L3.368 1.6H15.2C15.4122 1.6 15.6157 1.68429 15.7657 1.83431C15.9157 1.98434 16 2.18783 16 2.4C16 2.536 15.96 2.672 15.904 2.8L13.04 7.976C12.768 8.464 12.24 8.8 11.64 8.8H5.68L4.96 10.104L4.936 10.2C4.936 10.253 4.95707 10.3039 4.99458 10.3414C5.03209 10.3789 5.08296 10.4 5.136 10.4H14.4V12H4.8C4.37565 12 3.96869 11.8314 3.66863 11.5314C3.36857 11.2313 3.2 10.8243 3.2 10.4C3.2 10.12 3.272 9.856 3.392 9.632L4.48 7.672L1.6 1.6H0V0ZM4.8 12.8C5.22435 12.8 5.63131 12.9686 5.93137 13.2686C6.23143 13.5687 6.4 13.9757 6.4 14.4C6.4 14.8243 6.23143 15.2313 5.93137 15.5314C5.63131 15.8314 5.22435 16 4.8 16C4.37565 16 3.96869 15.8314 3.66863 15.5314C3.36857 15.2313 3.2 14.8243 3.2 14.4C3.2 13.512 3.912 12.8 4.8 12.8ZM12 7.2L14.224 3.2H4.112L6 7.2H12Z"
            fill="#586179"/>
      </svg>
      <span class="cart-badge">2</span>
    </a>
  </div>

  <div class="cards-container">
    <div th:each="s : ${services}" class="card">
      <a th:href="@{/services/{id}(id=${s.id}, query=${query})}" class="card-link">
        <div class="card__header">
          <div class="card__title-wrapper">
            <p class="card__title" th:text="${s.title}"></p>
          </div>
          <div class="card__description-wrapper">
            <p class="card__metadata-text"
               th:text="${s.shortDescription}"></p>
          </div>
          <!--          <div class="card__info">-->
          <!--            <div class="card__index" th:text="${s.index}"></div>-->
          <!--            <div class="card__button">Добавить услугу</div>-->
          <!--          </div>-->
        </div>

        <div class="card__footer">
          <div class="card__metadata">
            <p class="card__metadata-text"
               th:text="'Базовая стоимость: ' + ${s.basePrice} + ' руб.'"></p>
          </div>
          <div class="card__image"
               th:style="|background-image: url('http://127.0.0.1:9000/images/${s.imageId}.jpg')|">
          </div>
        </div>
      </a>
    </div>
  </div>

</div>
</body>
</html>